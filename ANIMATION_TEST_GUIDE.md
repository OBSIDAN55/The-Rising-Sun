# Руководство по тестированию анимации манипуляторов

## Что было исправлено:

### 1. **Проблема с отображением манипуляторов**
- Добавлена отрисовка манипуляторов через переопределение `draw()`
- Создана система fallback для случаев, когда спрайты не найдены
- Манипуляторы теперь рисуются как оранжевые линии с суставами

### 2. **Улучшенная анимация**
- Увеличена скорость анимации (`manipulatorSpeed = 3f`)
- Увеличен радиус движения (`manipulatorRadius = 16f`)
- Добавлены более сложные паттерны движения
- Анимация работает даже в покое

### 3. **Эффекты сварки**
- Добавлены искры сварки вокруг блока
- Эффекты сварки на концах манипуляторов
- Более заметные визуальные эффекты

## Как проверить анимацию:

### 1. **Запустите игру**
- Соберите блок `universal-collector-units`
- Разместите его на карте

### 2. **Что вы должны увидеть:**
- **4 оранжевые линии** (манипуляторы), исходящие из центра блока
- **Движущиеся суставы** на концах манипуляторов
- **Искры сварки** вокруг блока при сборке юнитов
- **Пульсирующие эффекты** на активных манипуляторах

### 3. **Если манипуляторы не видны:**
- Проверьте, что блок получает питание
- Убедитесь, что есть план сборки юнита
- Манипуляторы должны быть видны как оранжевые линии

### 4. **Настройка анимации:**
В файле `trsBlocks.java` можно изменить параметры:
```java
manipulatorCount = 4;        // Количество манипуляторов
manipulatorSpeed = 3f;       // Скорость анимации
manipulatorRadius = 16f;     // Радиус движения
weldingTime = 1f;           // Время сварки
weldingColor = Color.orange; // Цвет искр
```

## Отладка:

### Если ничего не видно:
1. Проверьте консоль на ошибки
2. Убедитесь, что блок получает питание
3. Попробуйте начать сборку юнита

### Если анимация слишком быстрая/медленная:
- Измените `manipulatorSpeed` в trsBlocks.java
- Измените множители в коде анимации

### Если манипуляторы слишком маленькие/большие:
- Измените `manipulatorRadius` в trsBlocks.java
- Измените размеры в коде отрисовки

## Следующие шаги:

1. **Добавить спрайты манипуляторов** - заменить простые линии на реальные спрайты
2. **Улучшить анимацию** - добавить более сложные движения
3. **Добавить звуки** - звуки сварки и движения манипуляторов
4. **Оптимизировать производительность** - для большого количества блоков

## Файлы для изменения:

- `src/trs/type/units/AnimatedUnitAssembler.java` - основная логика анимации
- `src/trs/content/trsBlocks.java` - настройки блока
- `src/trs/type/units/UnitAssemblyStage.java` - этапы сборки юнитов

